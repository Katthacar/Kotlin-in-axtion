<!DOCTYPE html >
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p164" style="overflow: hidden; position: relative; background-color: white; width: 811px; height: 1017px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	-webkit-transform-origin: bottom left;
	-ms-transform-origin: bottom left;
	transform-origin: bottom left;
	-webkit-transform: scale(0.25);
	-ms-transform: scale(0.25);
	transform: scale(0.25);
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_164{left:703px;bottom:960px;}
#t2_164{left:383px;bottom:960px;}
#t3_164{left:156px;bottom:798px;letter-spacing:0.1px;word-spacing:9.2px;}
#t4_164{left:156px;bottom:778px;letter-spacing:0.1px;word-spacing:3.1px;}
#t5_164{left:338px;bottom:778px;letter-spacing:0.1px;}
#t6_164{left:377px;bottom:778px;letter-spacing:0.1px;word-spacing:3.1px;}
#t7_164{left:156px;bottom:758px;letter-spacing:0.1px;word-spacing:1.3px;}
#t8_164{left:156px;bottom:738px;letter-spacing:0.1px;}
#t9_164{left:174px;bottom:707px;letter-spacing:0.1px;}
#ta_164{left:219px;bottom:706px;letter-spacing:0.1px;word-spacing:14.4px;}
#tb_164{left:413px;bottom:706px;letter-spacing:0.1px;}
#tc_164{left:455px;bottom:706px;letter-spacing:0.1px;word-spacing:14.4px;}
#td_164{left:174px;bottom:688px;letter-spacing:0.1px;word-spacing:-0.9px;}
#te_164{left:431px;bottom:688px;}
#tf_164{left:469px;bottom:688px;letter-spacing:0.1px;word-spacing:-0.9px;}
#tg_164{left:174px;bottom:669px;letter-spacing:0.1px;word-spacing:2.1px;}
#th_164{left:174px;bottom:651px;letter-spacing:0.1px;word-spacing:0.1px;}
#ti_164{left:156px;bottom:620px;letter-spacing:0.1px;word-spacing:2.8px;}
#tj_164{left:156px;bottom:600px;word-spacing:11.1px;}
#tk_164{left:156px;bottom:581px;letter-spacing:0.1px;word-spacing:-0.2px;}
#tl_164{left:101px;bottom:546px;letter-spacing:-1.9px;}
#tm_164{left:156px;bottom:546px;letter-spacing:-0.2px;word-spacing:0.3px;}
#tn_164{left:156px;bottom:521px;word-spacing:10.4px;}
#to_164{left:540px;bottom:521px;letter-spacing:0.1px;}
#tp_164{left:593px;bottom:521px;letter-spacing:0.1px;}
#tq_164{left:662px;bottom:521px;}
#tr_164{left:671px;bottom:521px;letter-spacing:0.1px;word-spacing:10.1px;}
#ts_164{left:156px;bottom:501px;letter-spacing:0.1px;word-spacing:5.3px;}
#tt_164{left:325px;bottom:501px;letter-spacing:0.1px;}
#tu_164{left:365px;bottom:501px;letter-spacing:0.1px;word-spacing:5px;}
#tv_164{left:156px;bottom:481px;letter-spacing:0.1px;word-spacing:10.8px;}
#tw_164{left:330px;bottom:482px;}
#tx_164{left:476px;bottom:481px;letter-spacing:0.1px;word-spacing:11px;}
#ty_164{left:156px;bottom:461px;letter-spacing:0.1px;word-spacing:0.2px;}
#tz_164{left:279px;bottom:462px;letter-spacing:0.1px;}
#t10_164{left:301px;bottom:462px;letter-spacing:0.1px;}
#t11_164{left:322px;bottom:462px;letter-spacing:0.1px;}
#t12_164{left:344px;bottom:462px;letter-spacing:0.1px;}
#t13_164{left:391px;bottom:462px;}
#t14_164{left:526px;bottom:462px;letter-spacing:0.1px;}
#t15_164{left:564px;bottom:462px;letter-spacing:0.1px;}
#t16_164{left:599px;bottom:461px;}
#t17_164{left:179px;bottom:442px;letter-spacing:0.1px;word-spacing:3px;}
#t18_164{left:686px;bottom:442px;letter-spacing:0.1px;}
#t19_164{left:721px;bottom:442px;}
#t1a_164{left:156px;bottom:422px;letter-spacing:-0.1px;word-spacing:-0.6px;}
#t1b_164{left:444px;bottom:422px;letter-spacing:0.1px;}
#t1c_164{left:479px;bottom:422px;letter-spacing:0.1px;word-spacing:-0.8px;}
#t1d_164{left:641px;bottom:422px;letter-spacing:0.1px;}
#t1e_164{left:680px;bottom:422px;letter-spacing:-0.1px;word-spacing:-0.3px;}
#t1f_164{left:156px;bottom:402px;letter-spacing:0.1px;}
#t1g_164{left:156px;bottom:202px;letter-spacing:0.1px;word-spacing:3.2px;}
#t1h_164{left:620px;bottom:203px;}
#t1i_164{left:156px;bottom:183px;}
#t1j_164{left:222px;bottom:183px;letter-spacing:0.1px;word-spacing:3.3px;}
#t1k_164{left:377px;bottom:183px;}
#t1l_164{left:429px;bottom:183px;letter-spacing:0.1px;word-spacing:3.5px;}
#t1m_164{left:655px;bottom:183px;}
#t1n_164{left:156px;bottom:163px;}
#t1o_164{left:238px;bottom:163px;letter-spacing:0.1px;}
#t1p_164{left:278px;bottom:163px;}
#t1q_164{left:291px;bottom:163px;word-spacing:0.1px;}
#t1r_164{left:410px;bottom:163px;}
#t1s_164{left:470px;bottom:163px;}
#t1t_164{left:156px;bottom:137px;letter-spacing:0.1px;}
#t1u_164{left:185px;bottom:122px;letter-spacing:0.1px;word-spacing:-0.1px;}
#t1v_164{left:185px;bottom:107px;}
#t1w_164{left:156px;bottom:91px;}
#t1x_164{left:174px;bottom:900px;word-spacing:-7.2px;}
#t1y_164{left:174px;bottom:883px;word-spacing:4.3px;}
#t1z_164{left:637px;bottom:883px;}
#t20_164{left:174px;bottom:866px;word-spacing:-2px;}
#t21_164{left:537px;bottom:866px;letter-spacing:0.1px;}
#t22_164{left:576px;bottom:866px;word-spacing:-2px;}
#t23_164{left:174px;bottom:850px;word-spacing:0.1px;}
#t24_164{left:382px;bottom:337px;}
#t25_164{left:166px;bottom:306px;}
#t26_164{left:398px;bottom:275px;}
#t27_164{left:274px;bottom:346px;}
#t28_164{left:275px;bottom:282px;}
#t29_164{left:474px;bottom:279px;}
#t2a_164{left:542px;bottom:279px;letter-spacing:0.1px;}
#t2b_164{left:474px;bottom:263px;}
#t2c_164{left:590px;bottom:263px;letter-spacing:0.1px;}
#t2d_164{left:624px;bottom:263px;}
#t2e_164{left:542px;bottom:114px;word-spacing:-0.1px;}
#t2f_164{left:542px;bottom:100px;word-spacing:-0.1px;}
#t2g_164{left:157px;bottom:8px;}

.s1_164{
	FONT-SIZE: 55px;
	FONT-FAMILY: NewBaskerville-Bold_jp;
	color: rgb(37,37,37);
}

.s2_164{
	FONT-SIZE: 55px;
	FONT-FAMILY: NewBaskerville-BoldItalic_kf;
	color: rgb(101,101,101);
}

.s3_164{
	FONT-SIZE: 60.9px;
	FONT-FAMILY: NewBaskerville-Roman_ja;
	color: rgb(37,37,37);
}

.s4_164{
	FONT-SIZE: 57.9px;
	FONT-FAMILY: Courier_uq;
	color: rgb(37,37,37);
}

.s5_164{
	FONT-SIZE: 51.7px;
	FONT-FAMILY: FranklinGothic-Demi_ka;
	color: rgb(71,107,133);
}

.s6_164{
	FONT-SIZE: 64.2px;
	FONT-FAMILY: FranklinGothic-DemiItal_uf;
	color: rgb(71,107,133);
}

.s7_164{
	FONT-SIZE: 60.9px;
	FONT-FAMILY: NewBaskerville-Italic_j9;
	color: rgb(37,37,37);
}

.s8_164{
	FONT-SIZE: 48.8px;
	FONT-FAMILY: Courier_uq;
	color: rgb(37,37,37);
}

.s9_164{
	FONT-SIZE: 57.9px;
	FONT-FAMILY: FranklinGothic-Book_vn;
	color: rgb(37,37,37);
}

.sa_164{
	FONT-SIZE: 42.8px;
	FONT-FAMILY: Courier-Bold_zr;
	color: rgb(0,0,0);
}

.sb_164{
	FONT-SIZE: 42.8px;
	FONT-FAMILY: Courier_12_;
	color: rgb(0,0,0);
}

.sc_164{
	FONT-SIZE: 48.8px;
	FONT-FAMILY: FranklinGothic-Demi_ka;
	color: rgb(101,101,101);
}

.sd_164{
	FONT-SIZE: 50.6px;
	FONT-FAMILY: Courier-Bold_yf;
	color: rgb(101,101,101);
}

.se_164{
	FONT-SIZE: 55px;
	FONT-FAMILY: Humanist521BT-BoldCondensed_vt;
	color: rgb(101,101,101);
}

.sf_164{
	FONT-SIZE: 61.1px;
	FONT-FAMILY: Helvetica, Arial, sans-serif;
	color: rgb(0,0,0);
	FONT-WEIGHT: bold;
}

</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts164" type="text/css" >

@font-face {
	font-family: Courier-Bold_yf;
	src: url("fonts/Courier-Bold_yf.woff") format("woff");
}

@font-face {
	font-family: Courier-Bold_zr;
	src: url("fonts/Courier-Bold_zr.woff") format("woff");
}

@font-face {
	font-family: Courier_12_;
	src: url("fonts/Courier_12_.woff") format("woff");
}

@font-face {
	font-family: Courier_uq;
	src: url("fonts/Courier_uq.woff") format("woff");
}

@font-face {
	font-family: FranklinGothic-Book_vn;
	src: url("fonts/FranklinGothic-Book_vn.woff") format("woff");
}

@font-face {
	font-family: FranklinGothic-DemiItal_uf;
	src: url("fonts/FranklinGothic-DemiItal_uf.woff") format("woff");
}

@font-face {
	font-family: FranklinGothic-Demi_ka;
	src: url("fonts/FranklinGothic-Demi_ka.woff") format("woff");
}

@font-face {
	font-family: Humanist521BT-BoldCondensed_vt;
	src: url("fonts/Humanist521BT-BoldCondensed_vt.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-BoldItalic_kf;
	src: url("fonts/NewBaskerville-BoldItalic_kf.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-Bold_jp;
	src: url("fonts/NewBaskerville-Bold_jp.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-Italic_j9;
	src: url("fonts/NewBaskerville-Italic_j9.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-Roman_ja;
	src: url("fonts/NewBaskerville-Roman_ja.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg164Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg164" style="-webkit-user-select: none;"><object width="811" height="1017" data="164/164.svg" type="image/svg+xml" id="pdf164" style="width:811px; height:1017px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div id="t1_164" class="t s1_164">137</div>
<div id="t2_164" class="t s2_164">Nullability</div>
<div id="t3_164" class="t s3_164">Nullable types in Kotlin provide a comprehensive solution to this problem. Distin-</div>
<div id="t4_164" class="t s3_164">guishing nullable and non-</div>
<div id="t5_164" class="t s4_164">null</div>
<div id="t6_164" class="t s3_164">types provides a clear understanding of what opera-</div>
<div id="t7_164" class="t s3_164">tions are allowed on the value and what operations can lead to exceptions at runtime</div>
<div id="t8_164" class="t s3_164">and are therefore forbidden.</div>
<div id="t9_164" class="t s5_164">NOTE</div>
<div id="ta_164" class="t s3_164">Objects of nullable or non-</div>
<div id="tb_164" class="t s4_164">null</div>
<div id="tc_164" class="t s3_164">types at runtime are the same; a</div>
<div id="td_164" class="t s3_164">nullable type isn’t a wrapper for a non-</div>
<div id="te_164" class="t s4_164">null</div>
<div id="tf_164" class="t s3_164">type. All checks are performed at</div>
<div id="tg_164" class="t s3_164">compilation time. That means there’s no runtime overhead for working with</div>
<div id="th_164" class="t s3_164">nullable types in Kotlin.</div>
<div id="ti_164" class="t s3_164">Now let’s see how to work with nullable types in Kotlin and why dealing with them is</div>
<div id="tj_164" class="t s3_164">by no means annoying. We’ll start with the special operator for safely accessing a</div>
<div id="tk_164" class="t s3_164">nullable value. </div>
<div id="tl_164" class="t s6_164">6.1.3</div>
<div id="tm_164" class="t s6_164">Safe call operator: “?.”</div>
<div id="tn_164" class="t s3_164">One of the most useful tools in Kotlin’s arsenal is the </div>
<div id="to_164" class="t s7_164">safe-call</div>
<div id="tp_164" class="t s3_164">operator: </div>
<div id="tq_164" class="t s4_164">?</div>
<div id="tr_164" class="t s3_164">., which</div>
<div id="ts_164" class="t s3_164">allows you to combine a </div>
<div id="tt_164" class="t s4_164">null</div>
<div id="tu_164" class="t s3_164">check and a method call into a single operation. For</div>
<div id="tv_164" class="t s3_164">example, the expression </div>
<div id="tw_164" class="t s4_164">s?.toUpperCase()</div>
<div id="tx_164" class="t s3_164">is equivalent to the following, more</div>
<div id="ty_164" class="t s3_164">cumbersome one: </div>
<div id="tz_164" class="t s4_164">if</div>
<div id="t10_164" class="t s4_164">(s</div>
<div id="t11_164" class="t s4_164">!=</div>
<div id="t12_164" class="t s4_164">null)</div>
<div id="t13_164" class="t s4_164">s.toUpperCase()</div>
<div id="t14_164" class="t s4_164">else</div>
<div id="t15_164" class="t s4_164">null</div>
<div id="t16_164" class="t s3_164">.</div>
<div id="t17_164" class="t s3_164">In other words, if the value on which you’re trying to call the method isn’t </div>
<div id="t18_164" class="t s4_164">null</div>
<div id="t19_164" class="t s3_164">,</div>
<div id="t1a_164" class="t s3_164">the method call is executed normally. If it’s </div>
<div id="t1b_164" class="t s4_164">null</div>
<div id="t1c_164" class="t s3_164">, the call is skipped, and </div>
<div id="t1d_164" class="t s4_164">null</div>
<div id="t1e_164" class="t s3_164">is used</div>
<div id="t1f_164" class="t s3_164">as the value instead. Figure 6.2 illustrates.</div>
<div id="t1g_164" class="t s3_164">Note that the result type of such an invocation is nullable. Although </div>
<div id="t1h_164" class="t s4_164">String.toUp-</div>
<div id="t1i_164" class="t s4_164">perCase</div>
<div id="t1j_164" class="t s3_164">returns a value of type </div>
<div id="t1k_164" class="t s4_164">String</div>
<div id="t1l_164" class="t s3_164">, the result type of an expression </div>
<div id="t1m_164" class="t s4_164">s?.toUp-</div>
<div id="t1n_164" class="t s4_164">perCase()</div>
<div id="t1o_164" class="t s3_164">when </div>
<div id="t1p_164" class="t s4_164">s</div>
<div id="t1q_164" class="t s3_164">is nullable will be </div>
<div id="t1r_164" class="t s4_164">String?</div>
<div id="t1s_164" class="t s3_164">:</div>
<div id="t1t_164" class="t s8_164">fun printAllCaps(s: String?) {</div>
<div id="t1u_164" class="t s8_164">val allCaps: String? = s?.toUpperCase()</div>
<div id="t1v_164" class="t s8_164">println(allCaps)</div>
<div id="t1w_164" class="t s8_164">}</div>
<div id="t1x_164" class="t s9_164">gets more verbose, the extra wrapper instances affect performance at runtime, and it’s</div>
<div id="t1y_164" class="t s9_164">not used consistently across the entire ecosystem. Even if you do use </div>
<div id="t1z_164" class="t s4_164">Optional</div>
<div id="t20_164" class="t s9_164">everywhere in your own code, you’ll still need to deal with </div>
<div id="t21_164" class="t s4_164">null</div>
<div id="t22_164" class="t s9_164">values returned from</div>
<div id="t23_164" class="t s9_164">methods of the JDK, the Android framework, and other third-party libraries.</div>
<div id="t24_164" class="t sa_164">foo.bar()</div>
<div id="t25_164" class="t sa_164">foo?.bar()</div>
<div id="t26_164" class="t sa_164">null</div>
<div id="t27_164" class="t sb_164">foo != null</div>
<div id="t28_164" class="t sb_164">foo == null</div>
<div id="t29_164" class="t sc_164">Figure 6.2</div>
<div id="t2a_164" class="t sc_164">The safe-call operator calls </div>
<div id="t2b_164" class="t sc_164">methods only on non-</div>
<div id="t2c_164" class="t sd_164">null</div>
<div id="t2d_164" class="t sc_164">values.</div>
<div id="t2e_164" class="t se_164">allCaps may </div>
<div id="t2f_164" class="t se_164">be null.</div>
<div id="t2g_164" class="t sf_164">Licensed to Édouard WILLISSECK &lt;edouard.willisseck@gmail.com&gt;</div>

<!-- End text definitions -->


</div>
</body>
</html>

<!DOCTYPE html >
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p162" style="overflow: hidden; position: relative; background-color: white; width: 811px; height: 1017px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	-webkit-transform-origin: bottom left;
	-ms-transform-origin: bottom left;
	transform-origin: bottom left;
	-webkit-transform: scale(0.25);
	-ms-transform: scale(0.25);
	transform: scale(0.25);
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_162{left:703px;bottom:960px;}
#t2_162{left:383px;bottom:960px;}
#t3_162{left:180px;bottom:917px;letter-spacing:0.1px;word-spacing:5.7px;}
#t4_162{left:156px;bottom:898px;word-spacing:2.8px;}
#t5_162{left:236px;bottom:898px;}
#t6_162{left:271px;bottom:898px;letter-spacing:0.1px;word-spacing:2.6px;}
#t7_162{left:156px;bottom:878px;letter-spacing:0.1px;word-spacing:-0.2px;}
#t8_162{left:156px;bottom:851px;letter-spacing:0.1px;}
#t9_162{left:156px;bottom:821px;word-spacing:12px;}
#ta_162{left:156px;bottom:801px;letter-spacing:0.1px;word-spacing:9.7px;}
#tb_162{left:156px;bottom:782px;letter-spacing:0.1px;}
#tc_162{left:201px;bottom:782px;letter-spacing:0.1px;}
#td_162{left:285px;bottom:782px;letter-spacing:0.1px;}
#te_162{left:346px;bottom:782px;letter-spacing:-0.1px;}
#tf_162{left:360px;bottom:782px;}
#tg_162{left:395px;bottom:782px;letter-spacing:0.3px;}
#th_162{left:409px;bottom:782px;letter-spacing:0.1px;}
#ti_162{left:156px;bottom:762px;}
#tj_162{left:200px;bottom:762px;letter-spacing:0.1px;word-spacing:-0.1px;}
#tk_162{left:178px;bottom:742px;word-spacing:-1.5px;}
#tl_162{left:156px;bottom:722px;}
#tm_162{left:194px;bottom:722px;}
#tn_162{left:234px;bottom:722px;letter-spacing:0.1px;word-spacing:5.9px;}
#to_162{left:567px;bottom:722px;letter-spacing:0.1px;}
#tp_162{left:607px;bottom:722px;letter-spacing:0.1px;word-spacing:5.9px;}
#tq_162{left:156px;bottom:702px;letter-spacing:0.1px;word-spacing:-0.1px;}
#tr_162{left:178px;bottom:682px;letter-spacing:0.1px;word-spacing:-0.5px;}
#ts_162{left:156px;bottom:662px;letter-spacing:0.1px;word-spacing:-0.1px;}
#tt_162{left:156px;bottom:637px;letter-spacing:0.1px;word-spacing:-0.1px;}
#tu_162{left:156px;bottom:621px;letter-spacing:0.1px;}
#tv_162{left:163px;bottom:606px;letter-spacing:0.1px;}
#tw_162{left:156px;bottom:572px;letter-spacing:-0.1px;word-spacing:0.2px;}
#tx_162{left:422px;bottom:572px;}
#ty_162{left:460px;bottom:572px;letter-spacing:0.1px;}
#tz_162{left:156px;bottom:545px;letter-spacing:0.1px;word-spacing:-0.1px;}
#t10_162{left:156px;bottom:530px;letter-spacing:0.1px;word-spacing:-0.1px;}
#t11_162{left:156px;bottom:514px;letter-spacing:0.1px;}
#t12_162{left:156px;bottom:481px;word-spacing:4.3px;}
#t13_162{left:156px;bottom:461px;letter-spacing:0.1px;}
#t14_162{left:195px;bottom:461px;letter-spacing:0.1px;}
#t15_162{left:156px;bottom:433px;word-spacing:0.1px;}
#t16_162{left:156px;bottom:418px;letter-spacing:0.1px;}
#t17_162{left:156px;bottom:384px;letter-spacing:0.1px;word-spacing:-0.6px;}
#t18_162{left:654px;bottom:385px;letter-spacing:0.1px;}
#t19_162{left:689px;bottom:384px;letter-spacing:0.1px;word-spacing:-0.5px;}
#t1a_162{left:156px;bottom:364px;letter-spacing:0.1px;word-spacing:1.1px;}
#t1b_162{left:156px;bottom:344px;letter-spacing:0.1px;word-spacing:3.9px;}
#t1c_162{left:247px;bottom:344px;letter-spacing:0.1px;}
#t1d_162{left:287px;bottom:344px;letter-spacing:0.2px;word-spacing:3.7px;}
#t1e_162{left:156px;bottom:324px;letter-spacing:0.2px;word-spacing:-0.3px;}
#t1f_162{left:156px;bottom:253px;letter-spacing:0.1px;}
#t1g_162{left:185px;bottom:238px;letter-spacing:0.1px;}
#t1h_162{left:156px;bottom:207px;letter-spacing:0.1px;word-spacing:-0.1px;}
#t1i_162{left:156px;bottom:192px;letter-spacing:0.1px;}
#t1j_162{left:156px;bottom:177px;}
#t1k_162{left:156px;bottom:161px;letter-spacing:0.1px;}
#t1l_162{left:156px;bottom:146px;}
#t1m_162{left:156px;bottom:112px;letter-spacing:0.1px;word-spacing:2.8px;}
#t1n_162{left:211px;bottom:113px;letter-spacing:0.1px;}
#t1o_162{left:234px;bottom:112px;word-spacing:2.6px;}
#t1p_162{left:156px;bottom:92px;word-spacing:-2.3px;}
#t1q_162{left:174px;bottom:282px;word-spacing:0.1px;}
#t1r_162{left:254px;bottom:282px;}
#t1s_162{left:312px;bottom:281px;letter-spacing:0.1px;}
#t1t_162{left:350px;bottom:282px;}
#t1u_162{left:431px;bottom:281px;letter-spacing:0.1px;}
#t1v_162{left:452px;bottom:282px;}
#t1w_162{left:512px;bottom:820px;}
#t1x_162{left:602px;bottom:820px;}
#t1y_162{left:689px;bottom:820px;}
#t1z_162{left:568px;bottom:820px;}
#t20_162{left:653px;bottom:820px;}
#t21_162{left:505px;bottom:788px;letter-spacing:0.1px;word-spacing:-3px;}
#t22_162{left:572px;bottom:788px;word-spacing:-2.9px;}
#t23_162{left:505px;bottom:773px;letter-spacing:0.1px;}
#t24_162{left:574px;bottom:773px;}
#t25_162{left:608px;bottom:773px;letter-spacing:0.1px;}
#t26_162{left:497px;bottom:230px;}
#t27_162{left:497px;bottom:216px;}
#t28_162{left:157px;bottom:8px;}

.s1_162{
	FONT-SIZE: 55px;
	FONT-FAMILY: NewBaskerville-Bold_jp;
	color: rgb(37,37,37);
}

.s2_162{
	FONT-SIZE: 55px;
	FONT-FAMILY: NewBaskerville-BoldItalic_kf;
	color: rgb(101,101,101);
}

.s3_162{
	FONT-SIZE: 60.9px;
	FONT-FAMILY: NewBaskerville-Roman_ja;
	color: rgb(37,37,37);
}

.s4_162{
	FONT-SIZE: 57.9px;
	FONT-FAMILY: Courier_uq;
	color: rgb(37,37,37);
}

.s5_162{
	FONT-SIZE: 48.8px;
	FONT-FAMILY: Courier_uq;
	color: rgb(37,37,37);
}

.s6_162{
	FONT-SIZE: 55px;
	FONT-FAMILY: FranklinGothic-Demi_ka;
	color: rgb(255,255,255);
}

.s7_162{
	FONT-SIZE: 57.2px;
	FONT-FAMILY: Courier-Bold_yf;
	color: rgb(255,255,255);
}

.s8_162{
	FONT-SIZE: 42.8px;
	FONT-FAMILY: Courier_12_;
	color: rgb(0,0,0);
}

.s9_162{
	FONT-SIZE: 42.8px;
	FONT-FAMILY: ArialMT_x4;
	color: rgb(0,0,0);
}

.sa_162{
	FONT-SIZE: 48.8px;
	FONT-FAMILY: FranklinGothic-Demi_ka;
	color: rgb(101,101,101);
}

.sb_162{
	FONT-SIZE: 50.6px;
	FONT-FAMILY: Courier-Bold_yf;
	color: rgb(101,101,101);
}

.sc_162{
	FONT-SIZE: 55px;
	FONT-FAMILY: Humanist521BT-BoldCondensed_vt;
	color: rgb(101,101,101);
}

.sd_162{
	FONT-SIZE: 61.1px;
	FONT-FAMILY: Helvetica, Arial, sans-serif;
	color: rgb(0,0,0);
	FONT-WEIGHT: bold;
}

</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts162" type="text/css" >

@font-face {
	font-family: ArialMT_x4;
	src: url("fonts/ArialMT_x4.woff") format("woff");
}

@font-face {
	font-family: Courier-Bold_yf;
	src: url("fonts/Courier-Bold_yf.woff") format("woff");
}

@font-face {
	font-family: Courier_12_;
	src: url("fonts/Courier_12_.woff") format("woff");
}

@font-face {
	font-family: Courier_uq;
	src: url("fonts/Courier_uq.woff") format("woff");
}

@font-face {
	font-family: FranklinGothic-Demi_ka;
	src: url("fonts/FranklinGothic-Demi_ka.woff") format("woff");
}

@font-face {
	font-family: Humanist521BT-BoldCondensed_vt;
	src: url("fonts/Humanist521BT-BoldCondensed_vt.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-BoldItalic_kf;
	src: url("fonts/NewBaskerville-BoldItalic_kf.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-Bold_jp;
	src: url("fonts/NewBaskerville-Bold_jp.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-Roman_ja;
	src: url("fonts/NewBaskerville-Roman_ja.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg162Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg162" style="-webkit-user-select: none;"><object width="811" height="1017" data="162/162.svg" type="image/svg+xml" id="pdf162" style="width:811px; height:1017px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div id="t1_162" class="t s1_162">135</div>
<div id="t2_162" class="t s2_162">Nullability</div>
<div id="t3_162" class="t s3_162">If you want to allow the use of this function with all arguments, including those</div>
<div id="t4_162" class="t s3_162">that can be </div>
<div id="t5_162" class="t s4_162">null</div>
<div id="t6_162" class="t s3_162">, you need to mark it explicitly by putting a question mark after the</div>
<div id="t7_162" class="t s3_162">type name:</div>
<div id="t8_162" class="t s5_162">fun strLenSafe(s: String?) = ...</div>
<div id="t9_162" class="t s3_162">You can put a question mark after any type, to</div>
<div id="ta_162" class="t s3_162">indicate that the variables of this type can store</div>
<div id="tb_162" class="t s4_162">null</div>
<div id="tc_162" class="t s3_162">references: </div>
<div id="td_162" class="t s4_162">String?</div>
<div id="te_162" class="t s3_162">, </div>
<div id="tf_162" class="t s4_162">Int?</div>
<div id="tg_162" class="t s3_162">, </div>
<div id="th_162" class="t s4_162">MyCustom-</div>
<div id="ti_162" class="t s4_162">Type?</div>
<div id="tj_162" class="t s3_162">, and so on (see figure 6.1).</div>
<div id="tk_162" class="t s3_162">To reiterate, a type without a question mark denotes that variables of this type can’t</div>
<div id="tl_162" class="t s3_162">store </div>
<div id="tm_162" class="t s4_162">null</div>
<div id="tn_162" class="t s3_162">references. This means all regular types are non-</div>
<div id="to_162" class="t s4_162">null</div>
<div id="tp_162" class="t s3_162">by default, unless</div>
<div id="tq_162" class="t s3_162">explicitly marked as nullable.</div>
<div id="tr_162" class="t s3_162">Once you have a value of a nullable type, the set of operations you can perform on</div>
<div id="ts_162" class="t s3_162">it is restricted. For example, you can no longer call methods on it:</div>
<div id="tt_162" class="t s5_162">&gt;&gt;&gt; fun strLenSafe(s: String?) = s.length()</div>
<div id="tu_162" class="t s5_162">ERROR: only safe (?.) or non-null asserted (!!.) calls are allowed</div>
<div id="tv_162" class="t s5_162">on a nullable receiver of type kotlin.String?</div>
<div id="tw_162" class="t s3_162">You can’t assign it to a variable of a non-</div>
<div id="tx_162" class="t s4_162">null</div>
<div id="ty_162" class="t s3_162">type:</div>
<div id="tz_162" class="t s5_162">&gt;&gt;&gt; val x: String? = null</div>
<div id="t10_162" class="t s5_162">&gt;&gt;&gt; var y: String = x</div>
<div id="t11_162" class="t s5_162">ERROR: Type mismatch: inferred type is String? but String was expected</div>
<div id="t12_162" class="t s3_162">You can’t pass a value of a nullable type as an argument to a function having a non-</div>
<div id="t13_162" class="t s4_162">null</div>
<div id="t14_162" class="t s3_162">parameter:</div>
<div id="t15_162" class="t s5_162">&gt;&gt;&gt; strLen(x)</div>
<div id="t16_162" class="t s5_162">ERROR: Type mismatch: inferred type is String? but String was expected</div>
<div id="t17_162" class="t s3_162">So what can you do with it? The most important thing is to compare it with </div>
<div id="t18_162" class="t s4_162">null</div>
<div id="t19_162" class="t s3_162">. And</div>
<div id="t1a_162" class="t s3_162">once you perform the comparison, the compiler remembers that and treats the value</div>
<div id="t1b_162" class="t s3_162">as being non-</div>
<div id="t1c_162" class="t s4_162">null</div>
<div id="t1d_162" class="t s3_162">in the scope where the check has been performed. For example,</div>
<div id="t1e_162" class="t s3_162">this code is perfectly valid.</div>
<div id="t1f_162" class="t s5_162">fun strLenSafe(s: String?): Int =</div>
<div id="t1g_162" class="t s5_162">if (s != null) s.length else 0</div>
<div id="t1h_162" class="t s5_162">&gt;&gt;&gt; val x: String? = null</div>
<div id="t1i_162" class="t s5_162">&gt;&gt;&gt; println(strLenSafe(x))</div>
<div id="t1j_162" class="t s5_162">0</div>
<div id="t1k_162" class="t s5_162">&gt;&gt;&gt; println(strLenSafe("abc"))</div>
<div id="t1l_162" class="t s5_162">3</div>
<div id="t1m_162" class="t s3_162">If using </div>
<div id="t1n_162" class="t s4_162">if</div>
<div id="t1o_162" class="t s3_162">checks was the only tool for tackling nullability, your code would become</div>
<div id="t1p_162" class="t s3_162">verbose fairly quickly. Fortunately, Kotlin provides a number of other tools to help deal</div>
<div id="t1q_162" class="t s6_162">Listing 6.1</div>
<div id="t1r_162" class="t s6_162">Handling </div>
<div id="t1s_162" class="t s7_162">null</div>
<div id="t1t_162" class="t s6_162">values using </div>
<div id="t1u_162" class="t s7_162">if</div>
<div id="t1v_162" class="t s6_162">checks</div>
<div id="t1w_162" class="t s8_162">Type?</div>
<div id="t1x_162" class="t s8_162">Type</div>
<div id="t1y_162" class="t s8_162">null</div>
<div id="t1z_162" class="t s9_162">=</div>
<div id="t20_162" class="t s9_162">or</div>
<div id="t21_162" class="t sa_162">Figure 6.1</div>
<div id="t22_162" class="t sa_162">A variable of a nullable type </div>
<div id="t23_162" class="t sa_162">can store a </div>
<div id="t24_162" class="t sb_162">null</div>
<div id="t25_162" class="t sa_162">reference</div>
<div id="t26_162" class="t sc_162">By adding the check for null, </div>
<div id="t27_162" class="t sc_162">the code now compiles.</div>
<div id="t28_162" class="t sd_162">Licensed to Édouard WILLISSECK &lt;edouard.willisseck@gmail.com&gt;</div>

<!-- End text definitions -->


</div>
</body>
</html>

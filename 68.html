<!DOCTYPE html >
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p68" style="overflow: hidden; position: relative; background-color: white; width: 811px; height: 1017px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	-webkit-transform-origin: bottom left;
	-ms-transform-origin: bottom left;
	transform-origin: bottom left;
	-webkit-transform: scale(0.25);
	-ms-transform: scale(0.25);
	transform: scale(0.25);
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
	line-height: 1.5;
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_68{left:710px;bottom:960px;}
#t2_68{left:358px;bottom:960px;}
#t3_68{left:156px;bottom:917px;letter-spacing:0.1px;word-spacing:-0.1px;}
#t4_68{left:446px;bottom:918px;letter-spacing:0.1px;}
#t5_68{left:502px;bottom:917px;}
#t6_68{left:156px;bottom:897px;letter-spacing:0.1px;word-spacing:0.2px;}
#t7_68{left:507px;bottom:898px;word-spacing:0.4px;}
#t8_68{left:668px;bottom:897px;letter-spacing:0.1px;word-spacing:0.2px;}
#t9_68{left:156px;bottom:877px;letter-spacing:0.1px;word-spacing:5.3px;}
#ta_68{left:513px;bottom:877px;letter-spacing:0.1px;}
#tb_68{left:614px;bottom:877px;letter-spacing:0.1px;word-spacing:4.9px;}
#tc_68{left:642px;bottom:877px;letter-spacing:0.1px;word-spacing:5.4px;}
#td_68{left:156px;bottom:857px;}
#te_68{left:180px;bottom:857px;word-spacing:1.4px;}
#tf_68{left:156px;bottom:837px;letter-spacing:0.1px;word-spacing:0.3px;}
#tg_68{left:156px;bottom:817px;letter-spacing:0.1px;word-spacing:6.1px;}
#th_68{left:156px;bottom:796px;letter-spacing:0.1px;word-spacing:-0.2px;}
#ti_68{left:179px;bottom:776px;letter-spacing:0.1px;word-spacing:3.2px;}
#tj_68{left:377px;bottom:777px;}
#tk_68{left:408px;bottom:776px;word-spacing:3.2px;}
#tl_68{left:156px;bottom:756px;word-spacing:10.2px;}
#tm_68{left:156px;bottom:736px;letter-spacing:0.1px;word-spacing:10.3px;}
#tn_68{left:156px;bottom:716px;letter-spacing:0.1px;word-spacing:0.2px;}
#to_68{left:156px;bottom:696px;letter-spacing:0.1px;word-spacing:-0.9px;}
#tp_68{left:156px;bottom:675px;word-spacing:0.1px;}
#tq_68{left:178px;bottom:655px;letter-spacing:0.1px;word-spacing:-0.9px;}
#tr_68{left:366px;bottom:656px;}
#ts_68{left:553px;bottom:655px;word-spacing:-0.7px;}
#tt_68{left:156px;bottom:635px;letter-spacing:0.1px;word-spacing:2.7px;}
#tu_68{left:156px;bottom:615px;letter-spacing:0.1px;word-spacing:-1.5px;}
#tv_68{left:156px;bottom:595px;word-spacing:6.1px;}
#tw_68{left:646px;bottom:595px;}
#tx_68{left:156px;bottom:575px;}
#ty_68{left:266px;bottom:575px;letter-spacing:0.1px;word-spacing:6.3px;}
#tz_68{left:419px;bottom:575px;}
#t10_68{left:515px;bottom:575px;letter-spacing:0.1px;word-spacing:6.3px;}
#t11_68{left:156px;bottom:554px;letter-spacing:0.1px;word-spacing:-0.1px;}
#t12_68{left:156px;bottom:534px;letter-spacing:0.1px;word-spacing:4.4px;}
#t13_68{left:609px;bottom:535px;letter-spacing:0.1px;}
#t14_68{left:657px;bottom:534px;letter-spacing:0.2px;word-spacing:4.2px;}
#t15_68{left:156px;bottom:514px;letter-spacing:0.1px;}
#t16_68{left:178px;bottom:494px;word-spacing:-1px;}
#t17_68{left:310px;bottom:494px;letter-spacing:0.1px;}
#t18_68{left:467px;bottom:494px;word-spacing:-1px;}
#t19_68{left:156px;bottom:474px;letter-spacing:0.1px;word-spacing:3.3px;}
#t1a_68{left:156px;bottom:454px;letter-spacing:0.1px;}
#t1b_68{left:101px;bottom:419px;letter-spacing:-1.9px;}
#t1c_68{left:156px;bottom:419px;letter-spacing:0.2px;word-spacing:-0.2px;}
#t1d_68{left:156px;bottom:394px;word-spacing:2.5px;}
#t1e_68{left:156px;bottom:374px;word-spacing:4.2px;}
#t1f_68{left:351px;bottom:374px;letter-spacing:0.1px;}
#t1g_68{left:417px;bottom:374px;letter-spacing:0.1px;word-spacing:3.9px;}
#t1h_68{left:156px;bottom:354px;letter-spacing:0.1px;word-spacing:-0.1px;}
#t1i_68{left:156px;bottom:284px;letter-spacing:0.1px;}
#t1j_68{left:185px;bottom:268px;letter-spacing:0.1px;word-spacing:-0.1px;}
#t1k_68{left:215px;bottom:253px;letter-spacing:1.7px;}
#t1l_68{left:185px;bottom:238px;word-spacing:0.1px;}
#t1m_68{left:215px;bottom:223px;letter-spacing:0.1px;}
#t1n_68{left:185px;bottom:207px;}
#t1o_68{left:185px;bottom:177px;}
#t1p_68{left:156px;bottom:161px;}
#t1q_68{left:156px;bottom:131px;letter-spacing:0.1px;}
#t1r_68{left:156px;bottom:116px;letter-spacing:0.1px;}
#t1s_68{left:174px;bottom:312px;word-spacing:0.1px;}
#t1t_68{left:262px;bottom:312px;letter-spacing:-0.1px;}
#t1u_68{left:301px;bottom:312px;letter-spacing:0.1px;}
#t1v_68{left:331px;bottom:312px;letter-spacing:-0.1px;word-spacing:0.1px;}
#t1w_68{left:571px;bottom:246px;}
#t1x_68{left:571px;bottom:232px;letter-spacing:0.2px;word-spacing:0.1px;}
#t1y_68{left:624px;bottom:135px;letter-spacing:-0.1px;}
#t1z_68{left:624px;bottom:120px;word-spacing:0.3px;}
#t20_68{left:157px;bottom:8px;}

.s1_68{
	FONT-SIZE: 55px;
	FONT-FAMILY: NewBaskerville-Bold_jp;
	color: rgb(37,37,37);
}

.s2_68{
	FONT-SIZE: 55px;
	FONT-FAMILY: NewBaskerville-BoldItalic_kf;
	color: rgb(101,101,101);
}

.s3_68{
	FONT-SIZE: 60.9px;
	FONT-FAMILY: NewBaskerville-Roman_ja;
	color: rgb(37,37,37);
}

.s4_68{
	FONT-SIZE: 57.9px;
	FONT-FAMILY: Courier_uq;
	color: rgb(37,37,37);
}

.s5_68{
	FONT-SIZE: 60.9px;
	FONT-FAMILY: NewBaskerville-Italic_j9;
	color: rgb(37,37,37);
}

.s6_68{
	FONT-SIZE: 55px;
	FONT-FAMILY: NewBaskerville-Roman_ja;
	color: rgb(37,37,37);
}

.s7_68{
	FONT-SIZE: 64.2px;
	FONT-FAMILY: FranklinGothic-DemiItal_uf;
	color: rgb(71,107,133);
}

.s8_68{
	FONT-SIZE: 48.8px;
	FONT-FAMILY: Courier_uq;
	color: rgb(37,37,37);
}

.s9_68{
	FONT-SIZE: 55px;
	FONT-FAMILY: FranklinGothic-Demi_ka;
	color: rgb(255,255,255);
}

.sa_68{
	FONT-SIZE: 57.2px;
	FONT-FAMILY: Courier-Bold_yf;
	color: rgb(255,255,255);
}

.sb_68{
	FONT-SIZE: 55px;
	FONT-FAMILY: Humanist521BT-BoldCondensed_vt;
	color: rgb(101,101,101);
}

.sc_68{
	FONT-SIZE: 61.1px;
	FONT-FAMILY: Helvetica, Arial, sans-serif;
	color: rgb(0,0,0);
	FONT-WEIGHT: bold;
}

</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts68" type="text/css" >

@font-face {
	font-family: Courier-Bold_yf;
	src: url("fonts/Courier-Bold_yf.woff") format("woff");
}

@font-face {
	font-family: Courier_uq;
	src: url("fonts/Courier_uq.woff") format("woff");
}

@font-face {
	font-family: FranklinGothic-DemiItal_uf;
	src: url("fonts/FranklinGothic-DemiItal_uf.woff") format("woff");
}

@font-face {
	font-family: FranklinGothic-Demi_ka;
	src: url("fonts/FranklinGothic-Demi_ka.woff") format("woff");
}

@font-face {
	font-family: Humanist521BT-BoldCondensed_vt;
	src: url("fonts/Humanist521BT-BoldCondensed_vt.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-BoldItalic_kf;
	src: url("fonts/NewBaskerville-BoldItalic_kf.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-Bold_jp;
	src: url("fonts/NewBaskerville-Bold_jp.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-Italic_j9;
	src: url("fonts/NewBaskerville-Italic_j9.woff") format("woff");
}

@font-face {
	font-family: NewBaskerville-Roman_ja;
	src: url("fonts/NewBaskerville-Roman_ja.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg68Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg68" style="-webkit-user-select: none;"><object width="811" height="1017" data="68/68.svg" type="image/svg+xml" id="pdf68" style="width:811px; height:1017px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div id="t1_68" class="t s1_68">41</div>
<div id="t2_68" class="t s2_68">Exceptions in Kotlin</div>
<div id="t3_68" class="t s3_68">The biggest difference from Java is that the </div>
<div id="t4_68" class="t s4_68">throws</div>
<div id="t5_68" class="t s3_68">clause isn’t present in the code: if</div>
<div id="t6_68" class="t s3_68">you wrote this function in Java, you’d explicitly write </div>
<div id="t7_68" class="t s4_68">throws IOException</div>
<div id="t8_68" class="t s3_68">after the</div>
<div id="t9_68" class="t s3_68">function declaration. You’d need to do this because </div>
<div id="ta_68" class="t s4_68">IOException</div>
<div id="tb_68" class="t s3_68">is a </div>
<div id="tc_68" class="t s5_68">checked excep-</div>
<div id="td_68" class="t s5_68">tion</div>
<div id="te_68" class="t s3_68">. In Java, it’s an exception that needs to be handled explicitly. You have to declare</div>
<div id="tf_68" class="t s3_68">all checked exceptions that your function can throw, and if you call another function,</div>
<div id="tg_68" class="t s3_68">you need to handle its checked exceptions or declare that your function can throw</div>
<div id="th_68" class="t s3_68">them, too.</div>
<div id="ti_68" class="t s3_68">Just like many other modern </div>
<div id="tj_68" class="t s6_68">JVM</div>
<div id="tk_68" class="t s3_68">languages, Kotlin doesn’t differentiate between</div>
<div id="tl_68" class="t s3_68">checked and unchecked exceptions. You don’t specify the exceptions thrown by a</div>
<div id="tm_68" class="t s3_68">function, and you may or may not handle any exceptions. This design decision is</div>
<div id="tn_68" class="t s3_68">based on the practice of using checked exceptions in Java. Experience has shown that</div>
<div id="to_68" class="t s3_68">the Java rules often require a lot of meaningless code to rethrow or ignore exceptions,</div>
<div id="tp_68" class="t s3_68">and the rules don’t consistently protect you from the errors that can happen.</div>
<div id="tq_68" class="t s3_68">For example, in listing 2.27, </div>
<div id="tr_68" class="t s4_68">NumberFormatException</div>
<div id="ts_68" class="t s3_68">isn’t a checked exception.</div>
<div id="tt_68" class="t s3_68">Therefore, the Java compiler doesn’t force you to catch it, and you can easily see the</div>
<div id="tu_68" class="t s3_68">exception happen at runtime. This is unfortunate, because invalid input data is a com-</div>
<div id="tv_68" class="t s3_68">mon situation and should be handled gracefully. At the same time, the </div>
<div id="tw_68" class="t s4_68">Buffered-</div>
<div id="tx_68" class="t s4_68">Reader.close</div>
<div id="ty_68" class="t s3_68">method can throw an </div>
<div id="tz_68" class="t s4_68">IOException</div>
<div id="t10_68" class="t s3_68">, which is a checked exception</div>
<div id="t11_68" class="t s3_68">and needs to be handled. Most programs can’t take any meaningful action if closing a</div>
<div id="t12_68" class="t s3_68">stream fails, so the code required to catch the exception from the </div>
<div id="t13_68" class="t s4_68">close</div>
<div id="t14_68" class="t s3_68">method is</div>
<div id="t15_68" class="t s3_68">boilerplate.</div>
<div id="t16_68" class="t s3_68">What about Java 7’s </div>
<div id="t17_68" class="t s4_68">try-with-resources</div>
<div id="t18_68" class="t s3_68">? Kotlin doesn’t have any special syntax</div>
<div id="t19_68" class="t s3_68">for this; it’s implemented as a library function. In section 8.2.5, you’ll see how this is</div>
<div id="t1a_68" class="t s3_68">possible. </div>
<div id="t1b_68" class="t s7_68">2.5.2</div>
<div id="t1c_68" class="t s7_68">“try” as an expression</div>
<div id="t1d_68" class="t s3_68">To see another significant difference between Java and Kotlin, let’s modify the exam-</div>
<div id="t1e_68" class="t s3_68">ple a little. Let’s remove the </div>
<div id="t1f_68" class="t s4_68">finally</div>
<div id="t1g_68" class="t s3_68">section (because you’ve already seen how this</div>
<div id="t1h_68" class="t s3_68">works) and add some code to print the number you read from the file.</div>
<div id="t1i_68" class="t s8_68">fun readNumber(reader: BufferedReader) {</div>
<div id="t1j_68" class="t s8_68">val number = try {</div>
<div id="t1k_68" class="t s8_68">Integer.parseInt(reader.readLine()) </div>
<div id="t1l_68" class="t s8_68">} catch (e: NumberFormatException) {</div>
<div id="t1m_68" class="t s8_68">return</div>
<div id="t1n_68" class="t s8_68">}</div>
<div id="t1o_68" class="t s8_68">println(number)</div>
<div id="t1p_68" class="t s8_68">}</div>
<div id="t1q_68" class="t s8_68">&gt;&gt;&gt; val reader = BufferedReader(StringReader("not a number"))</div>
<div id="t1r_68" class="t s8_68">&gt;&gt;&gt; readNumber(reader)</div>
<div id="t1s_68" class="t s9_68">Listing 2.28</div>
<div id="t1t_68" class="t s9_68">Using </div>
<div id="t1u_68" class="t sa_68">try</div>
<div id="t1v_68" class="t s9_68">as an expression</div>
<div id="t1w_68" class="t sb_68">Becomes the value of </div>
<div id="t1x_68" class="t sb_68">the “try” expression</div>
<div id="t1y_68" class="t sb_68">Nothing </div>
<div id="t1z_68" class="t sb_68">is printed.</div>
<div id="t20_68" class="t sc_68">Licensed to Édouard WILLISSECK &lt;edouard.willisseck@gmail.com&gt;</div>

<!-- End text definitions -->


</div>
</body>
</html>
